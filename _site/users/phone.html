<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8">
        <title>
        178
        
           | 完善手机号
        
        </title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"/>
        <meta name="format-detection" content="telephone=no, email=no" />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />

        <link rel="stylesheet" href="http://hello13.net/projects/party178/static/css/screen.min.css">

        <script src="http://hello13.net/projects/party178/static/js/lib/require.js"></script>
        <script>
            require.config({
                baseUrl: 'http://hello13.net/projects/party178/static/js',
                paths: {
                    zepto: 'lib/zepto',
                    fastclick: 'util/fastclick'
                },
                shim: {
                    zepto: { exports: '$' },
                    fastclick: { exports: 'fastclick' }
                }
            });
        </script>
    </head>
    <body ontouchstart="">
        
            <header class="navbar ui-border-b">
    <div class="pos pos-left party-back">
        <i class="icon-arrowleft"></i>
    </div>
    <h2 class="hdtitle ui-nowrap">完善手机号</h2>
    
    <div class="pos pos-right c-lgray l-gold">
        <a class="page-action">保存</a>
    </div>
    
</header><!-- header end -->
        
        <div class="user user-form2 mt-30 user-mobile">
    <div class="ui-form-item">
        <input type="text" name="phone" placeholder="请输入手机号" maxlength="11" autocomplete="off"/>
        <a class="ui-btn btn-code" id="send_code">发送验证码</a>
    </div>
    <div class="ui-form-item">
        <input type="text" name="validation_code" placeholder="请输入验证码" maxlength="4" autocomplete="off"/>
    </div>
</div><!-- user mobile end -->

<script>
    require(['zepto'], function($) {
		$("#send_code").on("click",function(){
			if($("input[name='phone']").val()=="" || $("input[name='phone']").val().length != 11){
				alert("请输入正确的手机号");	
				return;
			}
			$.get( "/mobile/users/validation_phone?phone="+$("input[name='phone']").val(), function( data ) {

			 	alert(data.message);
				//alert("验证码已经发送到手机");
				$("#send_code").hide();
			});
		});
	});
</script>

</body>
</html>


        <script>
            require(['zepto','fastclick'], function($, fc) {

                //选择城市
                $(document).on('click', '#selectCityBtn, #selectCity', function(){
                    $("#selectCity").toggleClass("open");
                });

                //添加列表链接
                $(document).on('click', '.link-list li', function(){
                    location.href = $(this).data('href');
                });

                $(document).on('click', '.party-back', function(e){
                    window.history.back();
                });

                $(document).on('click', '.party-action', function(e){
                    // todo
                });

                fc.attach(document.body);
            });
        </script>
    </body>
</html>
